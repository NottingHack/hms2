# HMS.Entities.Role.dcm.yml
HMS\Entities\Role:
  type: entity
  repositoryClass: HMS\Repositories\RoleRepository
  table: roles
  indexes:
    name_index:
      columns: [ name ]
  gedmo:
    soft_deleteable:
      field_name: deletedAt
      time_aware: false
  id:
    id:
      type: integer
      options:
        unsigned: true
      generator:
        strategy: AUTO
  fields:
    name:
      type: string
      unique: true
    displayName:
      type: string
    description:
      type: text
    email:
      type: string
      nullable: true
    slackChannel:
      type: string
      nullable: true
    retained:
      type: boolean
      options:
        default: 0 
    deletedAt:
      type: datetime
      nullable: true
    createdAt:
      type: datetime
      gedmo:
        timestampable:
          on: create
    updatedAt:
      type: datetime
      gedmo:
        timestampable:
          on: update
  manyToMany:
    permissions:
      targetEntity: LaravelDoctrine\ACL\Permissions\Permission
      joinTable:
        name: permission_role
        joinColumns:
          role_id:
            referencedColumnName: id
            onDelete: CASCADE
        inverseJoinColumns:
          permission_id:
            referencedColumnName: id
            onDelete: CASCADE
    users:
      targetEntity: User
      joinTable:
        name: role_user
        joinColumns:
          role_id:
            referencedColumnName: id
            onDelete: CASCADE
        inverseJoinColumns:
          user_id:
            referencedColumnName: id
            onDelete: CASCADE


